{
    "path": "/oauth/token",
    "methods": {
        "post": {
            "tags": [
                "Autenticação"
            ],
            "summary": "Obter token de acesso",
            "description": "Obtém um token de acesso OAuth 2.0 usando o fluxo Client Credentials.",
            "operationId": "getAccessToken",
            "requestBody": {
                "required": true,
                "content": {
                    "application/x-www-form-urlencoded": {
                        "schema": {
                            "type": "object",
                            "required": [
                                "grant_type",
                                "client_id",
                                "client_secret"
                            ],
                            "properties": {
                                "grant_type": {
                                    "type": "string",
                                    "enum": [
                                        "client_credentials"
                                    ],
                                    "description": "Tipo de concessão OAuth. Deve ser sempre \"client_credentials\"",
                                    "example": "client_credentials"
                                },
                                "client_id": {
                                    "type": "string",
                                    "description": "Identificador único do cliente",
                                    "example": "123e4567-e89b-12d3-a456-426614174000"
                                },
                                "client_secret": {
                                    "type": "string",
                                    "format": "password",
                                    "description": "Segredo do cliente",
                                    "example": "sua-chave-secreta-aqui"
                                }
                            }
                        },
                        "encoding": {
                            "client_id": {
                                "style": "form"
                            },
                            "client_secret": {
                                "style": "form"
                            },
                            "grant_type": {
                                "style": "form"
                            }
                        }
                    }
                }
            },
            "responses": {
                "200": {
                    "description": "Token de acesso obtido com sucesso",
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AccessTokenResponse"
                            },
                            "examples": {
                                "success": {
                                    "summary": "Resposta de sucesso",
                                    "value": {
                                        "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9...",
                                        "token_type": "Bearer",
                                        "expires_in": 604800
                                    }
                                }
                            }
                        }
                    }
                },
                "401": {
                    "description": "Credenciais inválidas ou não autorizado",
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ErrorResponse"
                            },
                            "examples": {
                                "invalid_credentials": {
                                    "summary": "Credenciais inválidas",
                                    "value": {
                                        "title": "Não autorizado",
                                        "status": 401
                                    }
                                }
                            }
                        }
                    }
                },
                "500": {
                    "description": "Erro interno do servidor",
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ErrorResponse"
                            },
                            "examples": {
                                "server_error": {
                                    "summary": "Erro do servidor",
                                    "value": {
                                        "title": "Serviço indisponível",
                                        "status": 500
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}